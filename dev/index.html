<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Momenta.jl</title><meta name="title" content="Home · Momenta.jl"/><meta property="og:title" content="Home · Momenta.jl"/><meta property="twitter:title" content="Home · Momenta.jl"/><meta name="description" content="Documentation for Momenta.jl."/><meta property="og:description" content="Documentation for Momenta.jl."/><meta property="twitter:description" content="Documentation for Momenta.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Momenta.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Core-Function:-fit"><span>Core Function: <code>fit</code></span></a></li><li><a class="tocitem" href="#1.-Model-Syntax-(model_str)"><span>1. Model Syntax (<code>model_str</code>)</span></a></li><li><a class="tocitem" href="#2.-Instrument-Syntax-(instr_str)"><span>2. Instrument Syntax (<code>instr_str</code>)</span></a></li><li><a class="tocitem" href="#3.-Options-Configuration-(options_str)"><span>3. Options Configuration (<code>options_str</code>)</span></a></li><li><a class="tocitem" href="#4.-Common-Model-Examples"><span>4. Common Model Examples</span></a></li><li><a class="tocitem" href="#5.-Post-Estimation"><span>5. Post-Estimation</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/dazhwu/Momenta.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/dazhwu/Momenta.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Momenta.jl-User-Guide"><a class="docs-heading-anchor" href="#Momenta.jl-User-Guide">Momenta.jl User Guide</a><a id="Momenta.jl-User-Guide-1"></a><a class="docs-heading-anchor-permalink" href="#Momenta.jl-User-Guide" title="Permalink"></a></h1><p><strong>Momenta.jl</strong> is an advanced dynamic panel data estimation package for Julia. It supports single-equation dynamic panel models and Panel Vector Autoregression (PVAR) models. The package provides flexible syntax for defining GMM and IV instruments, supporting Difference GMM, System GMM, and Forward Orthogonal Deviations (FOD) transformation.</p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><pre><code class="language-julia hljs">using Pkg
Pkg.add(&quot;Momenta&quot;)
using Momenta
</code></pre><h2 id="Core-Function:-fit"><a class="docs-heading-anchor" href="#Core-Function:-fit">Core Function: <code>fit</code></a><a id="Core-Function:-fit-1"></a><a class="docs-heading-anchor-permalink" href="#Core-Function:-fit" title="Permalink"></a></h2><p>The main entry point for model estimation is the <code>fit</code> function:</p><pre><code class="language-julia hljs">m = fit(df, panel_ids, model_str, instr_str, options_str)
</code></pre><h3 id="Parameters"><a class="docs-heading-anchor" href="#Parameters">Parameters</a><a id="Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters" title="Permalink"></a></h3><ul><li><strong><code>df</code></strong>: <code>DataFrame</code>. The dataset containing your panel data.</li><li><strong><code>panel_ids</code></strong>: <code>Vector{String}</code> containing exactly two elements: <code>[Individual ID, Time Variable]</code>. Example: <code>[&quot;id&quot;, &quot;year&quot;]</code>.</li><li><strong><code>model_str</code></strong>: <code>String</code>. Defines the regression model (equations).</li><li><strong><code>instr_str</code></strong>: <code>String</code>. Defines the instruments (GMM and IV).</li><li><strong><code>options_str</code></strong>: <code>String</code>. Controls estimation methods (e.g., FOD, One-step, etc.).</li></ul><hr/><h2 id="1.-Model-Syntax-(model_str)"><a class="docs-heading-anchor" href="#1.-Model-Syntax-(model_str)">1. Model Syntax (<code>model_str</code>)</a><a id="1.-Model-Syntax-(model_str)-1"></a><a class="docs-heading-anchor-permalink" href="#1.-Model-Syntax-(model_str)" title="Permalink"></a></h2><p>Models are defined using a tilde <code>~</code> to separate dependent variables (LHS) and independent variables (RHS). The <code>lag()</code> function is supported for specifying lags.</p><h3 id="Single-Equation-Model"><a class="docs-heading-anchor" href="#Single-Equation-Model">Single Equation Model</a><a id="Single-Equation-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Single-Equation-Model" title="Permalink"></a></h3><p>Suitable for standard dynamic panel estimation (e.g., Arellano-Bond).</p><pre><code class="language-julia hljs"># Example: n depends on the 1st lag of n and contemporaneous k
&quot;n ~ lag(n, 1) k&quot;

# Example: n depends on the 1st through 2nd lags of n
&quot;n ~ lag(n, 1:2) k&quot;
</code></pre><h3 id="Panel-Vector-Autoregression-(PVAR)"><a class="docs-heading-anchor" href="#Panel-Vector-Autoregression-(PVAR)">Panel Vector Autoregression (PVAR)</a><a id="Panel-Vector-Autoregression-(PVAR)-1"></a><a class="docs-heading-anchor-permalink" href="#Panel-Vector-Autoregression-(PVAR)" title="Permalink"></a></h3><p>When <strong>multiple variables</strong> appear on the left side of the tilde, the package automatically identifies it as a PVAR model. The system estimates these equations simultaneously.</p><p><strong>Note</strong>: PVAR models require symmetry, meaning all dependent variables must have the same number of lags.</p><pre><code class="language-julia hljs"># Bivariate PVAR(1): n and w cause each other, both with 1 lag
&quot;n w ~ lag(n, 1) lag(w, 1)&quot;

# With an exogenous variable k
&quot;n w ~ lag(n, 1) lag(w, 1) k&quot;
</code></pre><hr/><h2 id="2.-Instrument-Syntax-(instr_str)"><a class="docs-heading-anchor" href="#2.-Instrument-Syntax-(instr_str)">2. Instrument Syntax (<code>instr_str</code>)</a><a id="2.-Instrument-Syntax-(instr_str)-1"></a><a class="docs-heading-anchor-permalink" href="#2.-Instrument-Syntax-(instr_str)" title="Permalink"></a></h2><p>The instrument string supports two definition blocks: <code>GMM(...)</code> and <code>IV(...)</code>. You can combine them as needed.</p><h3 id="GMM-Instruments"><a class="docs-heading-anchor" href="#GMM-Instruments">GMM Instruments</a><a id="GMM-Instruments-1"></a><a class="docs-heading-anchor-permalink" href="#GMM-Instruments" title="Permalink"></a></h3><p>Used to define lagged endogenous variables as instruments (Internal Instruments).</p><ul><li><strong>Syntax</strong>: <code>GMM(variable_names, lag_range)</code></li><li><strong>Special Symbol</strong>: <code>.</code> represents the maximum available time length ().</li></ul><pre><code class="language-julia hljs"># Use lags 2 to 4 of n as instruments
&quot;GMM(n, 2:4)&quot;

# Use lags 2 to max available (Standard Arellano-Bond style)
&quot;GMM(n, 2:.)&quot;

# Define multiple variables simultaneously
&quot;GMM(n w, 2:4)&quot;
</code></pre><h3 id="IV-(Standard)-Instruments"><a class="docs-heading-anchor" href="#IV-(Standard)-Instruments">IV (Standard) Instruments</a><a id="IV-(Standard)-Instruments-1"></a><a class="docs-heading-anchor-permalink" href="#IV-(Standard)-Instruments" title="Permalink"></a></h3><p>Used to define strictly exogenous variables (External Instruments).</p><pre><code class="language-julia hljs"># Treat k as a contemporaneous exogenous instrument
&quot;IV(k)&quot;

# Treat the 1st lag of k as the instrument
&quot;IV(lag(k, 1))&quot;

# Combined syntax
&quot;IV(k lag(w, 1))&quot;
</code></pre><hr/><h2 id="3.-Options-Configuration-(options_str)"><a class="docs-heading-anchor" href="#3.-Options-Configuration-(options_str)">3. Options Configuration (<code>options_str</code>)</a><a id="3.-Options-Configuration-(options_str)-1"></a><a class="docs-heading-anchor-permalink" href="#3.-Options-Configuration-(options_str)" title="Permalink"></a></h2><p><code>options_str</code> is a space-separated string used to enable different estimation features.</p><table><tr><th style="text-align: right">Option Keyword</th><th style="text-align: right">Meaning</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><strong>(Empty)</strong></td><td style="text-align: right"><strong>System GMM</strong></td><td style="text-align: right">Default behavior. Includes both Level and Difference equations, estimated using the two-step method.</td></tr><tr><td style="text-align: right"><code>nolevel</code></td><td style="text-align: right"><strong>Difference GMM</strong></td><td style="text-align: right">Uses Difference equations only (similar to basic Arellano-Bond).</td></tr><tr><td style="text-align: right"><code>fod</code></td><td style="text-align: right"><strong>FOD Transformation</strong></td><td style="text-align: right">Uses Forward Orthogonal Deviations instead of First Differencing. Suitable for unbalanced panels or to preserve observations (Arellano-Bover).</td></tr><tr><td style="text-align: right"><code>collapse</code></td><td style="text-align: right"><strong>Collapse Instruments</strong></td><td style="text-align: right">Limits the instrument count to one per variable per lag distance (instead of per time period) to prevent overfitting (&quot;instrument proliferation&quot;).</td></tr><tr><td style="text-align: right"><code>onestep</code></td><td style="text-align: right"><strong>One-step Estimation</strong></td><td style="text-align: right">Performs only one-step GMM estimation (Default is two-step. Two-step is generally more efficient but requires finite-sample correction for standard errors).</td></tr></table><hr/><h2 id="4.-Common-Model-Examples"><a class="docs-heading-anchor" href="#4.-Common-Model-Examples">4. Common Model Examples</a><a id="4.-Common-Model-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#4.-Common-Model-Examples" title="Permalink"></a></h2><p>The following examples demonstrate how to combine parameters to implement classic econometric models.</p><h3 id="Scenario-A:-Standard-System-GMM-(Blundell-Bond)"><a class="docs-heading-anchor" href="#Scenario-A:-Standard-System-GMM-(Blundell-Bond)">Scenario A: Standard System GMM (Blundell-Bond)</a><a id="Scenario-A:-Standard-System-GMM-(Blundell-Bond)-1"></a><a class="docs-heading-anchor-permalink" href="#Scenario-A:-Standard-System-GMM-(Blundell-Bond)" title="Permalink"></a></h3><ul><li><strong>Model</strong>: AR(1)</li><li><strong>Instruments</strong>: Lags of <code>n</code> for the difference equation, differences of <code>n</code> for the level equation (handled automatically).</li><li><strong>Options</strong>: Empty (defaults to Level/System GMM).</li></ul><pre><code class="language-julia hljs">fit(df, [&quot;id&quot;, &quot;year&quot;], 
    &quot;n ~ lag(n, 1) k&quot;,      # Model
    &quot;GMM(n, 2:.) IV(k)&quot;,    # GMM lags 2 to max
    &quot;&quot;                      # Default: Two-step System GMM
)
</code></pre><h3 id="Scenario-B:-Difference-GMM-(Arellano-Bond)"><a class="docs-heading-anchor" href="#Scenario-B:-Difference-GMM-(Arellano-Bond)">Scenario B: Difference GMM (Arellano-Bond)</a><a id="Scenario-B:-Difference-GMM-(Arellano-Bond)-1"></a><a class="docs-heading-anchor-permalink" href="#Scenario-B:-Difference-GMM-(Arellano-Bond)" title="Permalink"></a></h3><ul><li><strong>Options</strong>: Add <code>&quot;nolevel&quot;</code>. This explicitly turns off the Level equations, using only Difference equations.</li></ul><pre><code class="language-julia hljs">fit(df, [&quot;id&quot;, &quot;year&quot;], 
    &quot;n ~ lag(n, 1) k&quot;, 
    &quot;GMM(n, 2:4) IV(k)&quot;, 
    &quot;nolevel&quot;               # Disable Level equations
)
</code></pre><h3 id="Scenario-C:-Using-FOD-Transformation-(Arellano-Bover)"><a class="docs-heading-anchor" href="#Scenario-C:-Using-FOD-Transformation-(Arellano-Bover)">Scenario C: Using FOD Transformation (Arellano-Bover)</a><a id="Scenario-C:-Using-FOD-Transformation-(Arellano-Bover)-1"></a><a class="docs-heading-anchor-permalink" href="#Scenario-C:-Using-FOD-Transformation-(Arellano-Bover)" title="Permalink"></a></h3><ul><li><strong>Options</strong>: Add <code>&quot;fod&quot;</code>. This is often superior to first differencing in unbalanced panels. It can be combined with <code>&quot;nolevel&quot;</code> or used alone (FOD-System GMM).</li></ul><pre><code class="language-julia hljs">fit(df, [&quot;id&quot;, &quot;year&quot;], 
    &quot;n ~ lag(n, 1) k&quot;, 
    &quot;GMM(n, 2:4) IV(k)&quot;, 
    &quot;fod&quot;                   # Use Forward Orthogonal Deviations
)
</code></pre><h3 id="Scenario-D:-Panel-Vector-Autoregression-(PVAR)"><a class="docs-heading-anchor" href="#Scenario-D:-Panel-Vector-Autoregression-(PVAR)">Scenario D: Panel Vector Autoregression (PVAR)</a><a id="Scenario-D:-Panel-Vector-Autoregression-(PVAR)-1"></a><a class="docs-heading-anchor-permalink" href="#Scenario-D:-Panel-Vector-Autoregression-(PVAR)" title="Permalink"></a></h3><ul><li><strong>Model</strong>: Specify multiple variables on the LHS.</li><li><strong>Instruments</strong>: Typically apply GMM instruments to all endogenous variables.</li></ul><pre><code class="language-julia hljs">fit(df, [&quot;id&quot;, &quot;year&quot;], 
    &quot;n w ~ lag(n, 1) lag(w, 1)&quot;,   # PVAR(1)
    &quot;GMM(n w, 2:4)&quot;,               # GMM instruments for both n and w
    &quot;fod&quot;                          # FOD is recommended for PVAR
)
</code></pre><h3 id="Scenario-E:-Collapsing-Instruments"><a class="docs-heading-anchor" href="#Scenario-E:-Collapsing-Instruments">Scenario E: Collapsing Instruments</a><a id="Scenario-E:-Collapsing-Instruments-1"></a><a class="docs-heading-anchor-permalink" href="#Scenario-E:-Collapsing-Instruments" title="Permalink"></a></h3><ul><li>When  is large, the instrument matrix can become very wide. Use <code>collapse</code> to reduce the number of instruments.</li></ul><pre><code class="language-julia hljs">fit(df, [&quot;id&quot;, &quot;year&quot;], 
    &quot;n ~ lag(n, 1) k&quot;, 
    &quot;GMM(n, 2:.) IV(k)&quot;, 
    &quot;collapse&quot;
)
</code></pre><hr/><h2 id="5.-Post-Estimation"><a class="docs-heading-anchor" href="#5.-Post-Estimation">5. Post-Estimation</a><a id="5.-Post-Estimation-1"></a><a class="docs-heading-anchor-permalink" href="#5.-Post-Estimation" title="Permalink"></a></h2><h3 id="Impulse-Response-Functions-(IRF)-and-Bootstrap"><a class="docs-heading-anchor" href="#Impulse-Response-Functions-(IRF)-and-Bootstrap">Impulse Response Functions (IRF) &amp; Bootstrap</a><a id="Impulse-Response-Functions-(IRF)-and-Bootstrap-1"></a><a class="docs-heading-anchor-permalink" href="#Impulse-Response-Functions-(IRF)-and-Bootstrap" title="Permalink"></a></h3><p>For PVAR models, you can use Bootstrap to calculate confidence intervals for Impulse Response Functions.</p><pre><code class="language-julia hljs"># 1. Fit the model
m = fit(df, [&quot;id&quot;, &quot;year&quot;], &quot;n w ~ lag(n, 1) lag(w, 1)&quot;, &quot;GMM(n w, 2:4)&quot;, &quot;fod&quot;)

# 2. Run Bootstrap
# Parameters: model, steps ahead, number of draws
res = bootstrap(m, 8, 200)
res = bootstrap(m, 8, 200, &quot;girf&quot;) # &quot;girf&quot; is the default method
res = bootstrap(m, 8, 200, &quot;oirf&quot;)

# 3. Plotting (Requires `using Plots`)
all_plots=Momenta.plot_irf(m, bootstrap_result)
display(all_plots[&quot;n on w&quot;]) # show the impact of n on w
display(all_plots[&quot;full&quot;])  # show a plot with all subplots

</code></pre><h3 id="Regression-Summary"><a class="docs-heading-anchor" href="#Regression-Summary">Regression Summary</a><a id="Regression-Summary-1"></a><a class="docs-heading-anchor-permalink" href="#Regression-Summary" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Print detailed summary
print_summary(m)

# Export results to HTML or LaTeX
export_html(m, &quot;results.html&quot;)
export_latex(m, &quot;results.tex&quot;)
</code></pre></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Friday 26 December 2025 15:51">Friday 26 December 2025</span>. Using Julia version 1.12.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
